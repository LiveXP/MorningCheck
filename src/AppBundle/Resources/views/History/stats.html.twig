{% extends 'AppBundle::base.html.twig' %}

{% block title %}Historique{% endblock %}

{% block body %}
    <form method="get" class="form-horizontal">
        <div class="form-group">
            <label for="stats_date" class="col-sm-2 control-label">SÃ©lectionner la date</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                    <input type="text" id="stats_date" name="stats_date" class="form-control" value="{{ app.request.query.get('stats_date') ?: "" }}">
                </div>

            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-10 col-sm-offset-2">
                <button type="submit" class="btn btn-default">Rechercher</button>
            </div>
        </div>

    </form>

    {% if results is defined and results is not null %}
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Kaazar</th>
                <th>OK</th>
                <th>KO</th>
            </tr>
            </thead>
            <tbody>
            {% for key, result in results if key is not empty %}
                <tr>
                    <td>{{ key }}</td>
                    <td>{{ result.OK is defined ? result.OK : 0 }}</td>
                    <td>{{ result.KO is defined ? result.KO : 0 }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}